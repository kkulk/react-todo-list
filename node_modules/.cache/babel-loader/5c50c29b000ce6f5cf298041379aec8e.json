{"ast":null,"code":"import React,{useState,useRef,useEffect}from'react';import TodoList from'./TodoList';import{v4 as uuidv4}from'uuid';localStorage.clear();const LOCAL_STORAGE_KEY='todoApp.todos';function App(){const[todos,setTodos]=useState([]);const todoNameRef=useRef();useEffect(()=>{const storedTodos=localStorage.getItem(LOCAL_STORAGE_KEY);if(storedTodos)setTodos(JSON.parse(storedTodos));},[]);useEffect(()=>{localStorage.setItem(LOCAL_STORAGE_KEY,JSON.stringify(todos));},[todos]);function toggleTodo(id){const newTodos=[...todos];const todo=newTodos.find(todo=>todo.id===id);todo.complete=!todo.complete;setTodos(newTodos);}function handleAddTodo(){const name=todoNameRef.current.value;if(name==='')return;setTodos(prevTodos=>{return[...prevTodos,{id:uuidv4(),name:name,complete:false}];});todoNameRef.current.value=null;}function handleClearTodos(){const newTodos=todos.filter(todo=>!todo.complete);setTodos(newTodos);}return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(TodoList,{todos:todos,toggleTodo:toggleTodo}),/*#__PURE__*/React.createElement(\"input\",{ref:todoNameRef,type:\"text\"}),/*#__PURE__*/React.createElement(\"button\",{onClick:handleAddTodo},\"Add Todo\"),/*#__PURE__*/React.createElement(\"button\",{onClick:handleClearTodos},\"Clear Completed Todos\"),/*#__PURE__*/React.createElement(\"div\",null,\" \",todos.filter(todo=>!todo.complete).length,\" left to do\"));}export default App;","map":{"version":3,"names":["React","useState","useRef","useEffect","TodoList","v4","uuidv4","localStorage","clear","LOCAL_STORAGE_KEY","App","todos","setTodos","todoNameRef","storedTodos","getItem","JSON","parse","setItem","stringify","toggleTodo","id","newTodos","todo","find","complete","handleAddTodo","name","current","value","prevTodos","handleClearTodos","filter","createElement","Fragment","ref","type","onClick","length"],"sources":["/Users/ksk/Desktop/Berkeley/Spring 2024/Projects/react-todo-list/src/App.js"],"sourcesContent":["import React, {useState, useRef, useEffect} from 'react';\nimport TodoList from './TodoList'\nimport { v4 as uuidv4 } from 'uuid';\n\nlocalStorage.clear();\nconst LOCAL_STORAGE_KEY = 'todoApp.todos'\nfunction App() {\n  const [todos, setTodos] = useState([])\n  const todoNameRef = useRef()\n\n  useEffect( () => {\n    const storedTodos = localStorage.getItem(LOCAL_STORAGE_KEY)\n    if (storedTodos) setTodos(JSON.parse(storedTodos))\n  }, [])\n\n  useEffect( () => {\n    localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(todos))\n  }, [todos])\n\n  function toggleTodo(id) {\n    const newTodos = [... todos]\n    const todo = newTodos.find(todo => todo.id === id)\n    todo.complete = !todo.complete\n    setTodos(newTodos)\n  }\n\n\n  function handleAddTodo() {\n    const name = todoNameRef.current.value\n    if (name === '') return\n    setTodos(prevTodos => {\n      return [...prevTodos, {id: uuidv4(), name: name, complete:false}]\n    })\n    todoNameRef.current.value = null  \n  }\n\n  function handleClearTodos() {\n    const newTodos = todos.filter(todo => !todo.complete)\n    setTodos(newTodos)\n  }\n  return (\n    <>\n    <TodoList todos = {todos} toggleTodo = {toggleTodo}/>\n    <input ref={todoNameRef} type=\"text\"/>\n    <button onClick={handleAddTodo}>Add Todo</button>\n    <button onClick={handleClearTodos} >Clear Completed Todos</button>\n    <div> {todos.filter(todo => !todo.complete).length} left to do</div>\n    </>\n    \n  )\n}\n\nexport default App;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAGC,QAAQ,CAAEC,MAAM,CAAEC,SAAS,KAAO,OAAO,CACxD,MAAO,CAAAC,QAAQ,KAAM,YAAY,CACjC,OAASC,EAAE,GAAI,CAAAC,MAAM,KAAQ,MAAM,CAEnCC,YAAY,CAACC,KAAK,CAAC,CAAC,CACpB,KAAM,CAAAC,iBAAiB,CAAG,eAAe,CACzC,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACb,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAAAY,WAAW,CAAGX,MAAM,CAAC,CAAC,CAE5BC,SAAS,CAAE,IAAM,CACf,KAAM,CAAAW,WAAW,CAAGP,YAAY,CAACQ,OAAO,CAACN,iBAAiB,CAAC,CAC3D,GAAIK,WAAW,CAAEF,QAAQ,CAACI,IAAI,CAACC,KAAK,CAACH,WAAW,CAAC,CAAC,CACpD,CAAC,CAAE,EAAE,CAAC,CAENX,SAAS,CAAE,IAAM,CACfI,YAAY,CAACW,OAAO,CAACT,iBAAiB,CAAEO,IAAI,CAACG,SAAS,CAACR,KAAK,CAAC,CAAC,CAChE,CAAC,CAAE,CAACA,KAAK,CAAC,CAAC,CAEX,QAAS,CAAAS,UAAUA,CAACC,EAAE,CAAE,CACtB,KAAM,CAAAC,QAAQ,CAAG,CAAC,GAAIX,KAAK,CAAC,CAC5B,KAAM,CAAAY,IAAI,CAAGD,QAAQ,CAACE,IAAI,CAACD,IAAI,EAAIA,IAAI,CAACF,EAAE,GAAKA,EAAE,CAAC,CAClDE,IAAI,CAACE,QAAQ,CAAG,CAACF,IAAI,CAACE,QAAQ,CAC9Bb,QAAQ,CAACU,QAAQ,CAAC,CACpB,CAGA,QAAS,CAAAI,aAAaA,CAAA,CAAG,CACvB,KAAM,CAAAC,IAAI,CAAGd,WAAW,CAACe,OAAO,CAACC,KAAK,CACtC,GAAIF,IAAI,GAAK,EAAE,CAAE,OACjBf,QAAQ,CAACkB,SAAS,EAAI,CACpB,MAAO,CAAC,GAAGA,SAAS,CAAE,CAACT,EAAE,CAAEf,MAAM,CAAC,CAAC,CAAEqB,IAAI,CAAEA,IAAI,CAAEF,QAAQ,CAAC,KAAK,CAAC,CAAC,CACnE,CAAC,CAAC,CACFZ,WAAW,CAACe,OAAO,CAACC,KAAK,CAAG,IAAI,CAClC,CAEA,QAAS,CAAAE,gBAAgBA,CAAA,CAAG,CAC1B,KAAM,CAAAT,QAAQ,CAAGX,KAAK,CAACqB,MAAM,CAACT,IAAI,EAAI,CAACA,IAAI,CAACE,QAAQ,CAAC,CACrDb,QAAQ,CAACU,QAAQ,CAAC,CACpB,CACA,mBACEtB,KAAA,CAAAiC,aAAA,CAAAjC,KAAA,CAAAkC,QAAA,mBACAlC,KAAA,CAAAiC,aAAA,CAAC7B,QAAQ,EAACO,KAAK,CAAIA,KAAM,CAACS,UAAU,CAAIA,UAAW,CAAC,CAAC,cACrDpB,KAAA,CAAAiC,aAAA,UAAOE,GAAG,CAAEtB,WAAY,CAACuB,IAAI,CAAC,MAAM,CAAC,CAAC,cACtCpC,KAAA,CAAAiC,aAAA,WAAQI,OAAO,CAAEX,aAAc,EAAC,UAAgB,CAAC,cACjD1B,KAAA,CAAAiC,aAAA,WAAQI,OAAO,CAAEN,gBAAiB,EAAE,uBAA6B,CAAC,cAClE/B,KAAA,CAAAiC,aAAA,YAAK,GAAC,CAACtB,KAAK,CAACqB,MAAM,CAACT,IAAI,EAAI,CAACA,IAAI,CAACE,QAAQ,CAAC,CAACa,MAAM,CAAC,aAAgB,CACjE,CAAC,CAGP,CAEA,cAAe,CAAA5B,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module"}