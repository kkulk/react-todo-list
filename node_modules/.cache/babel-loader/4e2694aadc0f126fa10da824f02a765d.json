{"ast":null,"code":"import React,{useState,useRef,useEffect}from'react';import TodoList from'./TodoList';import{v4 as uuidv4}from'uuid';const LOCAL_STORAGE_KEY='todoApp.todos';function App(){const[todos,setTodos]=useState([]);const todoNameRef=useRef();useEffect(()=>{const storedTodos=localStorage.getItem(LOCAL_STORAGE_KEY);if(storedTodos)setTodos(JSON.parse(storedTodos));},[]);useEffect(()=>{localStorage.setItem(LOCAL_STORAGE_KEY,JSON.stringify(todos));},[todos]);function toggleTodo(id){const newTodos=[...todos];const todo=newTodos.find(todo=>todo.id===id);todo.complete=!todo.complete;setTodos(newTodos);}function handleAddTodo(){const name=todoNameRef.current.value;if(name==='')return;setTodos(prevTodos=>{return[...prevTodos,{id:uuidv4(),name:name,complete:false}];});todoNameRef.current.value=null;}return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(TodoList,{todos:todos,toggleTodo:toggleTodo}),/*#__PURE__*/React.createElement(\"input\",{ref:todoNameRef,type:\"text\"}),/*#__PURE__*/React.createElement(\"button\",{onClick:handleAddTodo},\"Add Todo\"),/*#__PURE__*/React.createElement(\"button\",null,\"Clear Completed Todos\"),/*#__PURE__*/React.createElement(\"div\",null,\"0 left to do \"));}export default App;","map":{"version":3,"names":["React","useState","useRef","useEffect","TodoList","v4","uuidv4","LOCAL_STORAGE_KEY","App","todos","setTodos","todoNameRef","storedTodos","localStorage","getItem","JSON","parse","setItem","stringify","toggleTodo","id","newTodos","todo","find","complete","handleAddTodo","name","current","value","prevTodos","createElement","Fragment","ref","type","onClick"],"sources":["/Users/ksk/Desktop/Berkeley/Spring 2024/Projects/react-test/src/App.js"],"sourcesContent":["import React, {useState, useRef, useEffect} from 'react';\nimport TodoList from './TodoList'\nimport { v4 as uuidv4 } from 'uuid';\n\n\nconst LOCAL_STORAGE_KEY = 'todoApp.todos'\nfunction App() {\n  const [todos, setTodos] = useState([])\n  const todoNameRef = useRef()\n\n  useEffect( () => {\n    const storedTodos = localStorage.getItem(LOCAL_STORAGE_KEY)\n    if (storedTodos) setTodos(JSON.parse(storedTodos))\n  }, [])\n\n  useEffect( () => {\n    localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(todos))\n  }, [todos])\n\n  function toggleTodo(id) {\n    const newTodos = [... todos]\n    const todo = newTodos.find(todo => todo.id === id)\n    todo.complete = !todo.complete\n    setTodos(newTodos)\n  }\n\n\n  function handleAddTodo() {\n    const name = todoNameRef.current.value\n    if (name === '') return\n    setTodos(prevTodos => {\n      return [...prevTodos, {id: uuidv4(), name: name, complete:false}]\n    })\n    todoNameRef.current.value = null  \n  }\n\n  return (\n    <>\n    <TodoList todos = {todos} toggleTodo = {toggleTodo}/>\n    <input ref={todoNameRef} type=\"text\"/>\n    <button onClick={handleAddTodo}>Add Todo</button>\n    <button>Clear Completed Todos</button>\n    <div>0 left to do </div>\n    </>\n    \n  )\n}\n\nexport default App;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAGC,QAAQ,CAAEC,MAAM,CAAEC,SAAS,KAAO,OAAO,CACxD,MAAO,CAAAC,QAAQ,KAAM,YAAY,CACjC,OAASC,EAAE,GAAI,CAAAC,MAAM,KAAQ,MAAM,CAGnC,KAAM,CAAAC,iBAAiB,CAAG,eAAe,CACzC,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACb,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGT,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAAAU,WAAW,CAAGT,MAAM,CAAC,CAAC,CAE5BC,SAAS,CAAE,IAAM,CACf,KAAM,CAAAS,WAAW,CAAGC,YAAY,CAACC,OAAO,CAACP,iBAAiB,CAAC,CAC3D,GAAIK,WAAW,CAAEF,QAAQ,CAACK,IAAI,CAACC,KAAK,CAACJ,WAAW,CAAC,CAAC,CACpD,CAAC,CAAE,EAAE,CAAC,CAENT,SAAS,CAAE,IAAM,CACfU,YAAY,CAACI,OAAO,CAACV,iBAAiB,CAAEQ,IAAI,CAACG,SAAS,CAACT,KAAK,CAAC,CAAC,CAChE,CAAC,CAAE,CAACA,KAAK,CAAC,CAAC,CAEX,QAAS,CAAAU,UAAUA,CAACC,EAAE,CAAE,CACtB,KAAM,CAAAC,QAAQ,CAAG,CAAC,GAAIZ,KAAK,CAAC,CAC5B,KAAM,CAAAa,IAAI,CAAGD,QAAQ,CAACE,IAAI,CAACD,IAAI,EAAIA,IAAI,CAACF,EAAE,GAAKA,EAAE,CAAC,CAClDE,IAAI,CAACE,QAAQ,CAAG,CAACF,IAAI,CAACE,QAAQ,CAC9Bd,QAAQ,CAACW,QAAQ,CAAC,CACpB,CAGA,QAAS,CAAAI,aAAaA,CAAA,CAAG,CACvB,KAAM,CAAAC,IAAI,CAAGf,WAAW,CAACgB,OAAO,CAACC,KAAK,CACtC,GAAIF,IAAI,GAAK,EAAE,CAAE,OACjBhB,QAAQ,CAACmB,SAAS,EAAI,CACpB,MAAO,CAAC,GAAGA,SAAS,CAAE,CAACT,EAAE,CAAEd,MAAM,CAAC,CAAC,CAAEoB,IAAI,CAAEA,IAAI,CAAEF,QAAQ,CAAC,KAAK,CAAC,CAAC,CACnE,CAAC,CAAC,CACFb,WAAW,CAACgB,OAAO,CAACC,KAAK,CAAG,IAAI,CAClC,CAEA,mBACE5B,KAAA,CAAA8B,aAAA,CAAA9B,KAAA,CAAA+B,QAAA,mBACA/B,KAAA,CAAA8B,aAAA,CAAC1B,QAAQ,EAACK,KAAK,CAAIA,KAAM,CAACU,UAAU,CAAIA,UAAW,CAAC,CAAC,cACrDnB,KAAA,CAAA8B,aAAA,UAAOE,GAAG,CAAErB,WAAY,CAACsB,IAAI,CAAC,MAAM,CAAC,CAAC,cACtCjC,KAAA,CAAA8B,aAAA,WAAQI,OAAO,CAAET,aAAc,EAAC,UAAgB,CAAC,cACjDzB,KAAA,CAAA8B,aAAA,eAAQ,uBAA6B,CAAC,cACtC9B,KAAA,CAAA8B,aAAA,YAAK,eAAkB,CACrB,CAAC,CAGP,CAEA,cAAe,CAAAtB,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module"}