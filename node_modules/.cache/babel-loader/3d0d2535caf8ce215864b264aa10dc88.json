{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import TodoList from'./TodoList';import{v4 as uuidv4}from'uuid';const LOCAL_STORAGE_KEY='todoApp.todos';function App(){const[todos,setTodos]=useState([]);const todoNameRef=useRef();useEffect(()=>{const storedTodos=localStorage.getItem(LOCAL_STORAGE_KEY);if(storedTodos)setTodos(JSON.parse(storedTodos));},[]);useEffect(()=>{localStorage.setItem(LOCAL_STORAGE_KEY,JSON.stringify(todos));},[todos]);function toggleTodo(id){const newTodos=[...todos];const todo=newTodos.find(todo=>todo.id===id);todo.complete=!todo.complete;setTodos(newTodos);}function handleAddTodo(){const name=todoNameRef.current.value;if(name==='')return;setTodos(prevTodos=>{return[...prevTodos,{id:uuidv4(),name:name,complete:false}];});todoNameRef.current.value=null;}function handleClearTodos(){const newTodos=todos.filter(todo=>!todo.complete);setTodos(newTodos);}return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(TodoList,{todos:todos,toggleTodo:toggleTodo}),/*#__PURE__*/React.createElement(\"input\",{ref:todoNameRef,type:\"text\"}),/*#__PURE__*/React.createElement(\"button\",{onClick:handleAddTodo},\"Add Todo\"),/*#__PURE__*/React.createElement(\"button\",{onClick:handleClearTodos},\"Clear Completed Todos\"),/*#__PURE__*/React.createElement(\"div\",null,todos.filter(todo=>!todo.complete).length,\" left to do\"));}export default App;","map":{"version":3,"names":["React","useState","useEffect","useRef","TodoList","v4","uuidv4","LOCAL_STORAGE_KEY","App","todos","setTodos","todoNameRef","storedTodos","localStorage","getItem","JSON","parse","setItem","stringify","toggleTodo","id","newTodos","todo","find","complete","handleAddTodo","name","current","value","prevTodos","handleClearTodos","filter","createElement","Fragment","ref","type","onClick","length"],"sources":["/Users/ksk/Desktop/Berkeley/Spring 2024/Projects/react-todo-list/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport TodoList from './TodoList';\nimport { v4 as uuidv4 } from 'uuid';\n\nconst LOCAL_STORAGE_KEY = 'todoApp.todos';\n\nfunction App() {\n  const [todos, setTodos] = useState([]);\n  const todoNameRef = useRef();\n\n  useEffect(() => {\n    const storedTodos = localStorage.getItem(LOCAL_STORAGE_KEY);\n    if (storedTodos) setTodos(JSON.parse(storedTodos));\n  }, []);\n\n  useEffect(() => {\n    localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(todos));\n  }, [todos]);\n\n  function toggleTodo(id) {\n    const newTodos = [...todos];\n    const todo = newTodos.find((todo) => todo.id === id);\n    todo.complete = !todo.complete;\n    setTodos(newTodos);\n  }\n\n  function handleAddTodo() {\n    const name = todoNameRef.current.value;\n    if (name === '') return;\n    setTodos((prevTodos) => {\n      return [...prevTodos, { id: uuidv4(), name: name, complete: false }];\n    });\n    todoNameRef.current.value = null;\n  }\n\n  function handleClearTodos() {\n    const newTodos = todos.filter((todo) => !todo.complete);\n    setTodos(newTodos);\n  }\n\n  return (\n    <>\n      <TodoList todos={todos} toggleTodo={toggleTodo} />\n      <input ref={todoNameRef} type=\"text\" />\n      <button onClick={handleAddTodo}>Add Todo</button>\n      <button onClick={handleClearTodos}>Clear Completed Todos</button>\n      <div>{todos.filter((todo) => !todo.complete).length} left to do</div>\n    </>\n  );\n}\n\nexport default App;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,CAAEC,MAAM,KAAQ,OAAO,CAC1D,MAAO,CAAAC,QAAQ,KAAM,YAAY,CACjC,OAASC,EAAE,GAAI,CAAAC,MAAM,KAAQ,MAAM,CAEnC,KAAM,CAAAC,iBAAiB,CAAG,eAAe,CAEzC,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACb,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGT,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAAAU,WAAW,CAAGR,MAAM,CAAC,CAAC,CAE5BD,SAAS,CAAC,IAAM,CACd,KAAM,CAAAU,WAAW,CAAGC,YAAY,CAACC,OAAO,CAACP,iBAAiB,CAAC,CAC3D,GAAIK,WAAW,CAAEF,QAAQ,CAACK,IAAI,CAACC,KAAK,CAACJ,WAAW,CAAC,CAAC,CACpD,CAAC,CAAE,EAAE,CAAC,CAENV,SAAS,CAAC,IAAM,CACdW,YAAY,CAACI,OAAO,CAACV,iBAAiB,CAAEQ,IAAI,CAACG,SAAS,CAACT,KAAK,CAAC,CAAC,CAChE,CAAC,CAAE,CAACA,KAAK,CAAC,CAAC,CAEX,QAAS,CAAAU,UAAUA,CAACC,EAAE,CAAE,CACtB,KAAM,CAAAC,QAAQ,CAAG,CAAC,GAAGZ,KAAK,CAAC,CAC3B,KAAM,CAAAa,IAAI,CAAGD,QAAQ,CAACE,IAAI,CAAED,IAAI,EAAKA,IAAI,CAACF,EAAE,GAAKA,EAAE,CAAC,CACpDE,IAAI,CAACE,QAAQ,CAAG,CAACF,IAAI,CAACE,QAAQ,CAC9Bd,QAAQ,CAACW,QAAQ,CAAC,CACpB,CAEA,QAAS,CAAAI,aAAaA,CAAA,CAAG,CACvB,KAAM,CAAAC,IAAI,CAAGf,WAAW,CAACgB,OAAO,CAACC,KAAK,CACtC,GAAIF,IAAI,GAAK,EAAE,CAAE,OACjBhB,QAAQ,CAAEmB,SAAS,EAAK,CACtB,MAAO,CAAC,GAAGA,SAAS,CAAE,CAAET,EAAE,CAAEd,MAAM,CAAC,CAAC,CAAEoB,IAAI,CAAEA,IAAI,CAAEF,QAAQ,CAAE,KAAM,CAAC,CAAC,CACtE,CAAC,CAAC,CACFb,WAAW,CAACgB,OAAO,CAACC,KAAK,CAAG,IAAI,CAClC,CAEA,QAAS,CAAAE,gBAAgBA,CAAA,CAAG,CAC1B,KAAM,CAAAT,QAAQ,CAAGZ,KAAK,CAACsB,MAAM,CAAET,IAAI,EAAK,CAACA,IAAI,CAACE,QAAQ,CAAC,CACvDd,QAAQ,CAACW,QAAQ,CAAC,CACpB,CAEA,mBACErB,KAAA,CAAAgC,aAAA,CAAAhC,KAAA,CAAAiC,QAAA,mBACEjC,KAAA,CAAAgC,aAAA,CAAC5B,QAAQ,EAACK,KAAK,CAAEA,KAAM,CAACU,UAAU,CAAEA,UAAW,CAAE,CAAC,cAClDnB,KAAA,CAAAgC,aAAA,UAAOE,GAAG,CAAEvB,WAAY,CAACwB,IAAI,CAAC,MAAM,CAAE,CAAC,cACvCnC,KAAA,CAAAgC,aAAA,WAAQI,OAAO,CAAEX,aAAc,EAAC,UAAgB,CAAC,cACjDzB,KAAA,CAAAgC,aAAA,WAAQI,OAAO,CAAEN,gBAAiB,EAAC,uBAA6B,CAAC,cACjE9B,KAAA,CAAAgC,aAAA,YAAMvB,KAAK,CAACsB,MAAM,CAAET,IAAI,EAAK,CAACA,IAAI,CAACE,QAAQ,CAAC,CAACa,MAAM,CAAC,aAAgB,CACpE,CAAC,CAEP,CAEA,cAAe,CAAA7B,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module"}